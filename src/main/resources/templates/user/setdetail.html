<!DOCTYPE html>
<html lang="ko">
<th:block th:replace="~{includes/user/head}" />
<style>
    .points-section {
        display: flex;
        align-items: center;
        gap: 16px;
    }

    .point-item {
        display: flex;
        align-items: center;
        gap: 6px;
    }

    .p-icon {
        width: 24px;
        height: 24px;
        background: linear-gradient(135deg, #4285F4, #1976D2);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: bold;
        font-size: 12px;
    }

    .ticket-icon {
        color: #9C27B0;
        font-size: 18px;
    }

    .point-text {
        color: #4285F4;
        font-weight: 600;
        font-size: 14px;
    }

    .ct-text {
        color: #9C27B0;
        font-weight: 600;
        font-size: 14px;
    }

    .prediction-card {
        background: white;
        border-radius: 8px;
        box-shadow: 0 2px 12px rgba(0,0,0,0.08);
    }

    .vote-ticket-btn {
        background: linear-gradient(135deg, #4285F4, #9C27B0);
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 13px;
        font-weight: 600;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 6px;
        transition: all 0.3s ease;
        box-shadow: 0 2px 8px rgba(66, 133, 244, 0.3);
    }

    .vote-ticket-btn:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(66, 133, 244, 0.4);
    }

    .vote-button {
        background: linear-gradient(90deg, #8FCCFF 0%, #E0E7FF 25%, #F9EBFF 75%, #E7B0FF 100%);
        border-radius: 12px;
        padding: 8px;
        display: flex;
        justify-content: space-between;
        margin: 16px 0;
    }

    .yes-option {
        color: #1D8EFF;
        font-weight: 700;
    }

    .no-option {
        color: #B100FF;
        font-weight: 700;
    }

    .participate-button {
        background: #3B82F6;
        color: white;
        width: 100%;
        padding: 12px 0;
        border-radius: 12px;
        font-size: 16px;
        font-weight: 600;
        border: none;
    }

    .timer {
        color: #6B7280;
        font-family: 'Courier New', monospace;
        font-size: 14px;
        font-weight: 700;
        margin-left: auto;
    }

    .bts-image {
        width: 72px;
        height: 72px;
        border-radius: 8px;
        background: linear-gradient(45deg, #1a1a1a, #333);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 12px;
        margin-right: 12px;
    }

    .p-icon {
        background: #3B82F6;
        color: white;
        width: 24px;
        height: 24px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 12px;
        font-weight: bold;
    }

    .ticket-icon {
        color: #8B5CF6;
        font-size: 16px;
    }

    .banner-bg {
        background-color: #EAF3FE;
    }
    .banner-text-title {
        color: #50A7FE;
    }
    .banner-text-content {
        color: #6B7583;
    }

    .popup {
        background: white;
        border-radius: 16px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        width: 90%;
        max-width: 400px;
    }

    .gradient-btn {
        background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
        color: white;
        border: none;
        border-radius: 8px;
        padding: 8px 16px;
        font-size: 14px;
        font-weight: 500;
    }

    .p-icon {
        background: #3b82f6;
        color: white;
        width: 24px;
        height: 24px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 12px;
        font-weight: bold;
    }

    .ticket-icon {
        color: #8b5cf6;
        font-size: 16px;
    }

    .yes-btn {
        background: #e5f3ff;
        color: #1e40af;
        border: 1px solid #3b82f6;
        border-radius: 6px;
        padding: 6px 16px;
        font-size: 14px;
        font-weight: 500;
    }

    .quantity-input {
        border: 1px solid #d1d5db;
        border-radius: 6px;
        padding: 8px 12px;
        width: 80px;
        text-align: center;
        font-size: 14px;
    }

    .slider {
        -webkit-appearance: none;
        appearance: none;
        width: 100%;
        height: 6px;
        border-radius: 3px;
        background: #e5e7eb;
        outline: none;
    }

    .slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: #3b82f6;
        cursor: pointer;
        border: 2px solid white;
        box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }

    .slider::-moz-range-thumb {
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: #3b82f6;
        cursor: pointer;
        border: 2px solid white;
        box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }

    .slider.purple::-webkit-slider-thumb {
        background: #8b5cf6;
    }

    .slider.purple::-moz-range-thumb {
        background: #8b5cf6;
    }

    .cancel-btn {
        background: #f3f4f6;
        color: #6b7280;
        border: none;
        border-radius: 8px;
        padding: 12px 24px;
        font-size: 16px;
        font-weight: 500;
        flex: 1;
    }

    .participate-btn {
        background: #3b82f6;
        color: white;
        border: none;
        border-radius: 8px;
        padding: 12px 24px;
        font-size: 16px;
        font-weight: 500;
        flex: 1;
    }

    .reward-text {
        color: #059669;
        font-weight: 600;
        font-size: 16px;
    }

    .div_circle {
        width: 80px;
        height: 80px;
        margin: 0 auto;
        border-radius: 50%;
        background: #F9F9F9;
        border: 2px solid #E8EAEE;
    }
    .span_text_box {
        padding : 4px 10px 6px 10px;
        font-size: large;
    }
    .font_color_lightblue {
        color: #1D8EFF;
    }
    .font_color_pink {
        color: #BB20FF;
    }
    .btn_mypoint {
        background-color: #EAF3FE;
    }
    .btn_vote_continue {
        background-color: #2D35F8;
    }
    .text_description {
        font-size: 10px;
    }

    .btn-primary {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    .btn-primary:hover {
        background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);
    }
    .btn_show_guide {
        border: 1px solid #C1C4C9;
    }

    .prediction-item {
        transition: all 0.2s ease;
    }
    .prediction-item:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .tab-active {
        color: #3b82f6;
        border-bottom: 2px solid #3b82f6;
    }

    .div_use_guide {
        background-color: #f5f5f5;
        padding: 10px 16px;
        text-align: left;
        align-items: center;
        gap: 6px;
        font-size: 13px;
        font-weight: bold;
    }

    .btn_more {
        border: 1px solid #e0e0e0;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
    }
</style>
<style>
    .profile-avatar {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: #333;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: bold;
    }
    .invite-section {
        background-color: #736DFD;
    }
    .div_invite_code {
        color: #736DFD;
    }
    .stat-item {
        text-align: center;
        flex: 1;
    }
    .stat-label {
        font-size: 12px;
        color: #6b7280;
        margin-top: 2px;
    }
    /*.prediction-item {
        background: white;
        border-radius: 12px;
        margin-bottom: 8px;
        padding: 16px;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }*/

    .prediction-item:not(:last-child) {
        border-bottom: 1px solid #ddd;
    }

    .album-icon {
        width: 40px;
        height: 40px;
        background: #1f2937;
        border-radius: 4px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 12px;

        background-size: cover;       /* div 크기에 맞춰 꽉 차게 */
        background-position: center;  /* 가운데 정렬 */
        background-repeat: no-repeat; /* 반복 없이 */
    }
    .color_result_200 { color: #10b981; }
    .color_result_400 { color: #ef4444; }
    .color_result_0 { color: #333333; }
</style>

<body>

<script id="list_info_opt" type="text/x-handlebars-template">
    {{#resultData_opt}}
    <div class="mb-3">
        <div class="flex items-center justify-between bg-gray-100 rounded-lg h-12 px-3 relative overflow-hidden">
            <div class="absolute left-0 top-0 h-full bg-gray-300" style="width: {{each_ratio_percent}}%;"></div>
            <span class="text-gray-700 font-medium relative z-10">{{answer}}</span>
            <div class="flex items-center relative z-10">
                <span class="diamond-small"></span>
                <span class="text-gray-700 font-medium">{{each_ratio_percent}}%</span>
            </div>
        </div>
    </div>
    {{/resultData_opt}}
</script>
<script type="text/javascript">
    var list_info_opt = $("#list_info_opt").html();
    var list_info_opt_template = Handlebars.compile(list_info_opt);
</script>
<script id="list_info_quizuser" type="text/x-handlebars-template">
    {{#resultData_quizuser}}
    <div class="prediction-item py-2 px-2" onclick="listener_quizuser_detail('{{id}}')">
        <div class="flex items-center justify-between">
            <div class="flex items-center flex-1">
                <div class="album-icon" style="background-image: url({{quizImg}})"></div>
                <div class="flex-1">
                    <div class="text-sm font-medium text-gray-900 mb-1">{{quizTitle}}</div>
                </div>
            </div>
            <div class="text-right ml-3">
                <div class="text-sm font-semibold font_quizuser_reward_{{result}} font_quizuser_color_{{id}} font_quizuser_reward_comma_{{id}}">{{reward_comma}} P</div>
            </div>
        </div>
        <div class="flex items-center justify-between">
            <div class="text-xs text-gray-500">{{createdAt_datetime}} • {{answer}}</div>
            <div class="text-right ml-3">
                <div class="text-xs rounded-lg bg-gray-200 py-1 px-2 font-bold font_quizuser_color_{{id}}"><span class="font_quizuser_result_{{result}}">{{result}}</span></div>
                <input type="hidden" class="input_quizuser_result_{{id}}" value="{{result}}" />
                <input type="hidden" class="input_quizuser_quizId_{{id}}" value="{{quizId}}" />
            </div>
        </div>
    </div>
    {{/resultData_quizuser}}
</script>
<script type="text/javascript">
    var list_info_quizuser = $("#list_info_quizuser").html();
    var list_info_quizuser_template = Handlebars.compile(list_info_quizuser);
</script>

<script>
    function listener_quizuser_detail(obj_id){
        let input_quizuser_result = $(".input_quizuser_result_" + obj_id).val();
        let input_quizuser_quizId = $(".input_quizuser_quizId_" + obj_id).val();
        if(input_quizuser_result + "1" === "0"){
            //진행중!
            location.href = "/quiz/detail/" + input_quizuser_quizId;
        } else if(input_quizuser_result + "" === "500") {
            //취소
        } else {
            //결과 완료
            detail_quiz(input_quizuser_quizId, obj_id);
            //showPopup("result", input_quizuser_quizId);
        }
    }

    function detail_quiz(quizId, quizuserId) {
        //let quizId = getIdFromUrl(null);
        let _data = new Map();
        _data.url = "/api/quiz";
        _data.type = "GET";
        _data.param = {'id': quizId};
        _data.success = function (obj_data, obj_status, obj_xhr) {
            $("#tbody_quiz_list").html("");
            let each = obj_data;
            {
                let font_quizuser_reward_comma = $(".font_quizuser_reward_comma_" + quizuserId).html();
                $(".font_quiz_quizuser_reward_comma").html(font_quizuser_reward_comma);

                $(".div_html_quiz_content").html(each["content"]);
                $(".font_popup_quizuser_result").removeClass("hide");
                $(".font_popup_quizuser_result").addClass("hide");
                $(".font_popup_quizuser_result_" + each["result"]).removeClass("hide");

                showPopup("result", quizId);

                each["countuser_comma"] = numberWithKM(each["countuser"]);

                let minamount = 0;
                let totalamount = 0;
                let totalamountcpoint = 0;
                let totalamountcticket = 0;

                let answergroups = each["answergroups"];
                for(let i=0;i<answergroups.length;i++){
                    let each_i = answergroups[i];
                    let each_amountcpoint = Number(each_i["amountcpoint"]);
                    let each_amountcticket = Number(each_i["amountcticket"]);
                    let each_amount = each_amountcpoint + each_amountcticket * 10;
                    totalamountcpoint += each_amountcpoint;
                    totalamountcticket += each_amountcticket;
                    totalamount += each_amount;

                    if(i === 0){
                        minamount = totalamount;
                    }
                    if(minamount > each_amount){
                        minamount = each_amount;
                    }
                }

                each["totalamountcticket_comma"] = numberWithCommas(totalamountcticket);
                each["totalamount_comma"] = numberWithCommas(totalamount);
                let tempReward = 0;
                if (minamount > 0) {
                    tempReward = totalamount / minamount;
                }
                tempReward = Math.floor(tempReward * 10) / 10;
                each["ratioreward_comma"] = numberWithCommas(tempReward);

                $("#div_popup_quiz_answergroups_list").html("");
                for(let i=0;i<answergroups.length;i++) {
                    let each_i = answergroups[i];
                    let each_amountcpoint = Number(each_i["amountcpoint"]);
                    let each_amountcticket = Number(each_i["amountcticket"]);
                    let each_amount = each_amountcpoint + each_amountcticket * 10;
                    let each_ratio = 0;
                    let each_ratio_percent = 0;
                    if (totalamount > 0) {
                        each_ratio = each_amount * 100 / totalamount;
                        each_ratio_percent = Math.round(each_ratio * 10) / 10;
                    }

                    each_i["each_ratio_percent"] = each_ratio_percent;
                    let tList = [];
                    tList.push(each_i);
                    $("#div_popup_quiz_answergroups_list").append(list_info_opt_template({"resultData_opt": tList}));
                }
            }
            listenerAfterDetail(obj_data, "quiz");
        }
        _data.error = function (obj_data, obj_status, obj_xhr) {
            alert("정상적으로 이루어지지 않았습니다. 다시 시도해주세요.");
        }
        func_ajax(_data);
    }
</script>

<div class="main-container shadow-2xl items-center w-full max-w-md min-h-screen mx-auto">

    <th:block th:replace="~{includes/user/popup_layer}" />

    <!-- Header -->
    <th:block th:replace="~{includes/user/header_page}" />
    <script>$("#h1_header_page_title").html("Settings");</script>

    <!-- Main Content -->
    <div class="mx-auto">

        <style>
            /* 카드 내부: 가운데만 줄 (첫/마지막 제외) */
            .list-row + .list-row { border-top: 1px solid #E5E7EB; /* gray-200 */ }


            /* 오른쪽 화살표 아이콘 통일 */
            .chevron { width: 20px; height: 20px; }


            /* 토글 스위치 (Tailwind v1에는 peer 변형이 없어 커스텀 CSS 사용) */
            .switch { position: relative; width: 44px; height: 26px; }
            .switch input { display: none; }
            .switch .slider {
                height: 26px;
                position: absolute; inset: 0; border-radius: 9999px;
                background: #E5E7EB; /* gray-200 */
                transition: background-color 0.2s ease;
            }
            .switch .slider:before {
                content: ""; position: absolute; top: 3px; left: 3px;
                width: 20px; height: 20px; border-radius: 9999px; background: #fff;
                box-shadow: 0 1px 2px rgba(0,0,0,0.12), 0 1px 1px rgba(0,0,0,0.06);
                transition: transform 0.2s ease;
            }
            .switch input:checked + .slider { background: #6366F1; /* indigo-500 */ }
            .switch input:checked + .slider:before { transform: translateX(18px); }


            /* Link pill 버튼 */
            .pill {
                display: inline-flex; align-items: center; justify-content: center;
                min-width: 52px; height: 28px; padding: 0 10px; border-radius: 9999px;
                border: 1px solid #E5E7EB; color: #4B5563; font-size: 12px; font-weight: 600;
            }
            .badge {
                font-size: 12px; font-weight: 600; color: #10B981; /* emerald-500 */
            }


            /* 아이콘 원형 배경 */
            .icon-circle { width: 28px; height: 28px; border-radius: 9999px; background: #F3F4F6; /* gray-100 */ }
        </style>

        <section class="p-4">
            <ul class="rounded-2xl shadow px-4">
                <li class="list-row py-3 flex items-center justify-between">
                    <span class="text-gray-800 text-sm">알림 허용</span>
                    <label class="switch">
                        <input type="checkbox" id="detail_myuser_allowalarm" name="allowalarm" onchange="update_user(this)"/>
                        <span class="slider"></span>
                    </label>
                </li>
                <li class="list-row py-3 flex items-center justify-between">
                    <span class="text-gray-800 text-sm">결과 알림</span>
                    <label class="switch">
                        <input class="input_myuser_alarm_alarmquiz" type="checkbox" id="detail_myuser_alarmquizresult" name="alarmquizresult" onchange="update_user(this)"/>
                        <span class="slider"></span>
                    </label>
                </li>
                <li class="list-row py-3 flex items-center justify-between">
                    <span class="text-gray-800 text-sm">투표 알림</span>
                    <label class="switch">
                        <input class="input_myuser_alarm_alarmquiz" type="checkbox" id="detail_myuser_alarmquiztoday" name="alarmquiztoday" onchange="update_user(this)"/>
                        <span class="slider"></span>
                    </label>
                </li>
            </ul>
        </section>

        <!-- 메뉴 리스트 카드 -->
        <section class="p-4">
            <ul class="rounded-2xl shadow px-4 divide-y divide-gray-200">
                <li>
                    <a href="javascript:showPopup('appinfo', null)" class="py-3 flex items-center justify-between">
                        <div class="flex items-center">
                            <!-- 서류 아이콘 -->
                            <svg class="w-5 h-5 text-gray-600 mr-3" fill="none" stroke="currentColor"
                                 stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                      d="M7 2a2 2 0 00-2 2v16a2 2 0 002 2h10a2 2 0 002-2V8l-6-6H7z" />
                                <path stroke-linecap="round" stroke-linejoin="round"
                                      d="M14 3v5h5" />
                            </svg>
                            <span class="text-gray-800 text-sm">앱정보</span>
                        </div>
                        <svg class="w-5 h-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"/></svg>
                    </a>
                </li>
                <li>
                    <a href="javascript:showPopup('agreement', null);" class="py-3 flex items-center justify-between">
                        <div class="flex items-center">
                            <svg class="w-5 h-5 text-gray-600 mr-3" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8c1.657 0 3-1.343 3-3S13.657 2 12 2 9 3.343 9 5s1.343 3 3 3zm0 2c-4.418 0-8 2.239-8 5v3h16v-3c0-2.761-3.582-5-8-5z"/></svg>
                            <span class="text-gray-800 text-sm">이용약관 및 정책</span>
                        </div>
                        <svg class="w-5 h-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"/></svg>
                    </a>
                </li>
                <li class="hide">
                    <a href="#" class="py-3 flex items-center justify-between">
                        <div class="flex items-center">
                            <svg class="w-5 h-5 text-gray-600 mr-3" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12A9 9 0 113 12a9 9 0 0118 0z"/></svg>
                            <span class="text-gray-800 text-sm">공지사항</span>
                        </div>
                        <svg class="w-5 h-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"/></svg>
                    </a>
                </li>
                <li class="hide">
                    <a href="#" class="py-3 flex items-center justify-between">
                        <div class="flex items-center">
                            <svg class="w-5 h-5 text-gray-600 mr-3" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>
                            <span class="text-gray-800 text-sm">고객센터</span>
                        </div>
                        <svg class="w-5 h-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"/></svg>
                    </a>
                </li>
            </ul>
        </section>


    </div>

    <th:block th:replace="~{includes/user/footer}" />
    <script>listener_bottom_navi(3);</script>

</div>

<th:block th:replace="~{includes/user/popup_view}" />
<th:block th:replace="~{includes/user/bottom}" />
<script>
    $(document).ready(function () {
        console.log("ready!");
        let refreshToken = localStorage.getItem("refreshToken");
        if(!isNull(refreshToken)){
            detail_user();
        }
    });
    function detail_user() {
        let userId = 0;
        let _data = new Map();
        _data.url = "/api/user";
        _data.type = "GET";
        _data.param = {'id': userId};
        _data.success = function (obj_data, obj_status, obj_xhr) {
            //alert(JSON.stringify(obj_data));
            obj_data["amountcpoint_comma"] = numberWithCommas(obj_data["amountcpoint"]);
            obj_data["amountcticket_comma"] = numberWithCommas(obj_data["amountcticket"]);
            obj_data["countquizuser_comma"] = numberWithCommas(obj_data["countquizuser"]);
            listenerAfterDetail(obj_data, "myuser");

            listener_check_alarmall();
        }
        _data.error = function (obj_data, obj_status, obj_xhr) {
            alert("정상적으로 이루어지지 않았습니다. 다시 시도해주세요.");
        }
        func_ajax(_data);
    }

    function listener_check_alarmall(){
        let allchecked = true;
        let input_myuser_alarm_alarmquiz = $(".input_myuser_alarm_alarmquiz");
        for(let each of input_myuser_alarm_alarmquiz){
            let checked = $(each).prop("checked");
            if(!checked){
                allchecked = false;
            }
        }
        $("#detail_myuser_alarmall").prop("checked", allchecked);
    }
    function update_user(obj_this){
        let userId = 0;
        let _param = {};
        _param["id"] = userId;
        _param[$(obj_this).attr("name")] = $(obj_this).prop("checked");

        let _data = {};
        _data.url = "/api/user";
        _data.type = "PUT";
        _data.param = _param;
        _data.success = function(obj_data, obj_status, obj_xhr){
            //alert("정상 처리 되었습니다.");
            //detail_user();
            listener_check_alarmall();
        }
        _data.error = function(obj_data, obj_status, obj_xhr){
            alert("정상적으로 이루어지지 않았습니다. 다시 시도해주세요.");
        }
        func_ajax(_data);
    }
</script>
</body>
</html>